<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Surprise!</title>
  <!-- A nice Google Font -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
  <style>
    /* Overall page styling */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(45deg, #ff9a9e, #fad0c4);
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
    }
    
    /* Fade-out animation */
    .fade-out {
      opacity: 0;
      transition: opacity 1s ease;
    }
    
    /* Start screen styling */
    #start-screen {
      opacity: 1;
      transition: opacity 1s ease;
    }
    #start-screen h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    #start-screen button {
      padding: 10px 20px;
      font-size: 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background-color: rgba(255, 255, 255, 0.8);
      color: #ff6f91;
      transition: background-color 0.3s;
    }
    #start-screen button:hover {
      background-color: rgba(255, 255, 255, 1);
    }
    
    /* Compliment container styling */
    #compliment-container {
      opacity: 0;
      transition: opacity 1s ease;
    }
    /* When visible, the container is fully opaque */
    #compliment-container.visible {
      opacity: 1;
    }
    /* The compliment content fades in/out */
    #compliment {
      margin: 20px;
      opacity: 0;
      transition: opacity 1s ease;
    }
    #compliment.visible {
      opacity: 1;
    }
    #compliment img {
      max-width: 80%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 10px;
    }
    #compliment p {
      font-size: 1.5rem;
    }
    
    /* Final question styling */
    #final-question {
      display: none;
      opacity: 0;
      transition: opacity 1s ease;
    }
    #final-question.visible {
      display: block;
      opacity: 1;
    }
    #final-question h1 {
      font-size: 2rem;
      margin-bottom: 20px;
    }
    #final-question button {
      padding: 10px 20px;
      font-size: 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background-color: rgba(255, 255, 255, 0.8);
      color: #ff6f91;
      margin: 0 10px;
      transition: background-color 0.3s;
    }
    #final-question button:hover {
      background-color: rgba(255, 255, 255, 1);
    }
  </style>
</head>
<body>
  <!-- Start Screen -->
  <div id="start-screen">
    <h1>Click here for a surprise</h1>
    <button id="start-btn">Enter</button>
  </div>
  
  <!-- Compliment Container (hidden initially) -->
  <div id="compliment-container">
    <div id="compliment">
      <!-- Compliment content will be injected here -->
    </div>
  </div>
  
  <!-- Final Question Container (hidden initially) -->
  <div id="final-question">
    <h1>Will you be my Valentine?</h1>
    <button id="yes-btn">Yes</button>
    <button id="no-btn">No</button>
  </div>
  
  <!-- Hidden Spotify iframe for autoplaying music (positioned off-screen) -->
  <iframe id="spotify" src="https://open.spotify.com/embed/playlist/4sXPYlJMOZxEk2d5jzASBS?utm_source=generator&autoplay=1" 
          allow="autoplay" 
          style="width:0; height:0; border:0; position:absolute; left:-9999px;">
  </iframe>
  
  <script>
    // Array of compliments paired with images.
    const compliments = [
      { text: "Your smile brightens my day.", image: "https://via.placeholder.com/300x200?text=Smile" },
      { text: "You are truly amazing.", image: "https://via.placeholder.com/300x200?text=Amazing" },
      { text: "Every moment with you is a treasure.", image: "https://via.placeholder.com/300x200?text=Treasure" },
      { text: "You light up every room you enter.", image: "https://via.placeholder.com/300x200?text=Light" },
      { text: "Your laughter is contagious.", image: "https://via.placeholder.com/300x200?text=Laughter" },
      { text: "Your kindness is a gift to everyone.", image: "https://via.placeholder.com/300x200?text=Kindness" }
      // Add more compliments as desired.
    ];
    
    // How many times to cycle through the compliments array before showing the final question.
    const totalCycles = 3;
    let currentCycle = 0;
    let currentIndex = 0;
    let complimentInterval;
    
    // Get DOM elements.
    const startScreen = document.getElementById('start-screen');
    const startBtn = document.getElementById('start-btn');
    const complimentContainer = document.getElementById('compliment-container');
    const complimentDiv = document.getElementById('compliment');
    const finalQuestion = document.getElementById('final-question');
    
    // Start button click: fade out start screen, then begin music and compliments.
    startBtn.addEventListener('click', () => {
      // Fade out the start screen.
      startScreen.classList.add('fade-out');
      // After 1 second (the fade duration), hide the start screen and start the next phase.
      setTimeout(() => {
        startScreen.style.display = 'none';
        // The Spotify iframe is already in the DOM so music will autoplay.
        // Begin the compliment slideshow.
        startCompliments();
      }, 1000);
    });
    
    // Function to start the compliment cycle.
    function startCompliments() {
      // Make the compliment container visible.
      complimentContainer.classList.add('visible');
      // Display the first compliment immediately.
      showNextCompliment();
      // Then change compliments every 5 seconds.
      complimentInterval = setInterval(showNextCompliment, 5000);
    }
    
    // Function to display the next compliment.
    function showNextCompliment() {
      // If we've completed the required cycles, end the slideshow and show the final question.
      if (currentCycle >= totalCycles && currentIndex >= compliments.length) {
        clearInterval(complimentInterval);
        showFinalQuestion();
        return;
      }
      
      // If we've reached the end of the current compliment array, reset the index and increment cycle count.
      if (currentIndex >= compliments.length) {
        currentIndex = 0;
        currentCycle++;
      }
      
      // Fade out any current compliment.
      complimentDiv.classList.remove('visible');
      
      // After fade-out duration (1 second), update the content and fade in.
      setTimeout(() => {
        const currentCompliment = compliments[currentIndex];
        complimentDiv.innerHTML = `
          <img src="${currentCompliment.image}" alt="Compliment Image">
          <p>${currentCompliment.text}</p>
        `;
        complimentDiv.classList.add('visible');
        currentIndex++;
      }, 1000);
    }
    
    // Function to display the final question.
    function showFinalQuestion() {
      // Fade out the compliment container.
      complimentContainer.classList.remove('visible');
      // After the fade-out, hide the compliments and show the final question.
      setTimeout(() => {
        complimentContainer.style.display = 'none';
        finalQuestion.style.display = 'block';
        // Trigger fade-in effect on the final question.
        setTimeout(() => {
          finalQuestion.classList.add('visible');
        }, 50);
      }, 1000);
    }
    
    // Optional: Handle clicks on the final answer buttons.
    document.getElementById('yes-btn').addEventListener('click', () => {
      alert("Yay! I'm so happy!");
    });
    document.getElementById('no-btn').addEventListener('click', () => {
      alert("Oh no! Maybe another time.");
    });
  </script>
</body>
</html>
